<div class="model-container">
    <div class="hybrid-model-container">
        <div class="title-info-container">
            <div class="subtitle">Select a {{ medium | titlecase}}</div>

            <lucide-icon 
                [img]="Info" 
                class="info-icon"
                appPopup
                [popupTemplate]="modelInfoPopup.template"
                [popupContext]="{
                    info_title: `Select a ${ medium | titlecase}`,
                    info_description: `Select a ${medium} to be used in the content-similarity and item-item collaborative filtering model.`
                }"
            ></lucide-icon>
        </div>

        <app-item-item-cf-inputs
            [medium]="medium"
            [placeholder]="`Search ${medium}s...`"
            [width]="width"
            (selectedItemChange)="onUpdateSelectedItem($event)"
        />
    </div>

    <div class="hybrid-model-container">
        <div class="title-info-container">
            <div class="subtitle">Enter {{ medium | titlecase}} Ratings</div>

            <lucide-icon 
                [img]="Info" 
                class="info-icon"
                appPopup
                [popupTemplate]="modelInfoPopup.template"
                [popupContext]="{
                    info_title: `Enter ${ medium | titlecase} Ratings`,
                    info_description: `Enter ${medium} ratings to be used in the user-user collaborative filtering model.\n`
                }"
            ></lucide-icon>
        </div>
        <app-user-user-cf-inputs
            [medium]="medium"
            [placeholder]="`Search for ${medium}s to rate...`"
            [width]="width"
            (numSimilarUsersChange)="onNumSimilarUsersChange($event)"
            (ratingsChange)="onRatingsChange($event)"
        />
    </div>

    <div class="hybrid-model-container">
        <div class="title-info-container">
            <div class="subtitle">Model Weights</div>

            <lucide-icon 
                [img]="Info" 
                class="info-icon"
                appPopup
                [popupTemplate]="modelInfoPopup.template"
                [popupContext]="{
                    info_title: 'Model Weights',
                    info_description: 'Weightings to use for results from different models.'
                }"
            ></lucide-icon>
        </div>

        <app-hybrid-weight-sliders
            [width]="width"
            (valuesChange)="onHybridWeightsChange($event)"
        ></app-hybrid-weight-sliders>
    </div>
</div>  

<app-model-info #modelInfoPopup/>